# Matcap Maker 使い方ガイド

Matcap Maker は、3Dモデル用のMatcap（Material Capture）テクスチャを作成するためのツールです。
複数のレイヤー（ライト、フレネル、ノイズ、画像など）を重ね合わせることで、直感的にオリジナルのMatcapを作成できます。

## 画面構成

アプリケーションは大きく3つのエリアに分かれています。

1.  **プレビューウィンドウ (中央)**
    *   作成中のMatcapがリアルタイムで球体にレンダリングされます。
    *   下部の「画像をエクスポート」ボタンで、現在の結果を画像ファイル（PNG/JPG）として保存できます。
2.  **レイヤーリスト (左側)**
    *   現在プロジェクトに含まれるレイヤーの一覧です。
    *   上から順に合成処理が行われます（Photoshopなどとは逆で、リストの下にあるものが「上」に重なる順序ではなく、リストの上から順に処理されますが、合成ロジック上は後に追加したレイヤーが結果に対して影響を与えます）。
    *   **追加**: 「レイヤーを追加」ボタンから新しいレイヤーを追加できます。
    *   **削除**: 選択中のレイヤーを削除します。
    *   **表示/非表示**: 各項目の左にある丸いボタンで、レイヤーの有効/無効を切り替えられます。
    *   **並び替え**: ドラッグ＆ドロップでレイヤーの順序を変更できます。
    *   **コンテキストメニュー**: レイヤーを右クリックすると、「複製」や「削除」を選択できます。
3.  **プロパティパネル (右側)**
    *   リストで選択したレイヤーの詳細設定を行います。

## レイヤーの種類とプロパティ

### 1. ベースレイヤー (Base Layer)
Matcapの基礎となる色と、質感のプレビュー方法を設定します。

*   **カラー**: ベースとなる色を設定します。
*   **プレビュー設定**:
    *   **モード**:
        *   `Standard`: 通常の球体プレビュー。
        *   `With Normal Map`: ノーマルマップ適用時の見た目を確認できます。
    *   **ノーマルマップ**: 読み込むノーマルマップ画像を選択します。
    *   **強度/スケール/オフセット**: ノーマルマップの適用具合を調整します。

### 2. スポットライト (Spot Light)
特定の方向からの光源効果を追加します。ハイライトの作成に適しています。

*   **ブレンドモード**: 光の合成方法（Add, Screen, Overlayなど）を選択します。
*   **強度 (Intensity)**: 光の強さ。
*   **範囲 (Range)**: ライトが照らす範囲の広さ。
*   **ぼかし (Blur)**: 光の境界の柔らかさ。
*   **スケール X/Y**: ライト形状の縦横比を変更します。
*   **回転**: ライトの形状を回転させます。
*   **方向 X/Y/Z**: 光が当たる方向を指定します。
*   **カラー**: 光の色。

### 3. フレネル / リム (Fresnel / Rim)
物体の輪郭（エッジ）部分に光を追加します。リムライトや質感表現に使用します。

*   **強度 (Intensity)**: 光の強さ。
*   **パワー (Power)**: エッジの鋭さ。値が高いほど輪郭ギリギリに寄ります。
*   **バイアス (Bias)**: 光の適用範囲のオフセット。
*   **カラー**: 光の色。

### 4. ノイズ (Noise)
全体にザラつきやテクスチャ感を追加します。

*   **強度 (Intensity)**: ノイズの濃さ。
*   **スケール (Scale)**: ノイズの細かさ。
*   **シードオフセット**: ノイズのパターン（乱数シード）を変更します。
*   **カラー**: ノイズの色。通常はMultiply（乗算）モードで影のように使用します。

### 5. イメージ (Image)
任意の画像をテクスチャとして貼り付けます。映り込みや模様の再現に使用します。

*   **画像**: 使用する画像ファイルを選択します。
*   **マッピング**:
    *   `UV`: 球体のUV座標に合わせて貼り付けます。
    *   `Planar`: 平面投影のように貼り付けます。
*   **オフセット X/Y**: 画像の位置を調整します。
*   **スケール (Scale)**: 画像の大きさ。
*   **回転 (Rotation)**: 画像の角度。
*   **ぼかし (Blur)**: 画像をぼかします。
*   **不透明度 (Opacity)**: 画像の透過度。

### 6. 色調補正 (Color Adjustment)
これまでのレイヤーの合成結果に対して、全体的な色調を補正します。

*   **色相 (Hue)**: 色味を変更します。
*   **彩度 (Saturation)**: 色の鮮やかさを調整します。
*   **明度 (Brightness)**: 明るさを調整します。
*   **コントラスト (Contrast)**: 明暗の対比を調整します。

## メニュー操作

### File (ファイル)
*   **Open Project**: 保存したプロジェクトファイル（.json）を開きます。
*   **Save Project**: 現在の状態をプロジェクトとして保存します。使用している画像アセットも `assets` フォルダにコピーされます。
*   **Export Image**: 画面下のボタンと同じく、Matcap画像を書き出します。

### Options (オプション)
*   **Language**: 言語を英語/日本語で切り替えます（再起動後に適用）。
*   **Resolution**: エクスポート時の解像度を選択します（64x64 ～ 4096x4096）。
*   **Padding**: エクスポート画像の余白を設定します。

### Help (ヘルプ)
*   **Third Party Notices**: 使用しているライブラリ等の権利表記を表示します。
